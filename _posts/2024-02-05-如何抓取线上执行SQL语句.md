---
layout:     post     # 使用的布局（不需要改）
title:      如何抓取线上执行SQL语句 # 标题 
subtitle:   通过Mybatis拦截器来实现动态开关线上SQL抓取 #副标题
date:       2024-02-05 # 时间
author:     Tong # 作者
header-img: img/post-bg-2015.jpg #这篇文章标题背景图片
catalog: true # 是否归档
tags: #标签
    - Mybatis
    - SQL
    - 抓取SQL
---

## 为啥要抓取线上SQL

有时候系统业务比较复杂，通过代码很难拼出实际执行的sql，这不利于我们快速排查线上问题，所以我们需要一个可以动态开启抓取sql的功能。



## 如何实现呢

实现方案是通过mybatis的拦截器对sql查询sql进行拦截，抓取合适的sql并保存到redis中，大概的方案就是这样子啦，下面就是具体的实现。





